{% extends 'base.jinja2' %}

{% block title %}Withdraw Cash/Crypto{% endblock %}

{% block content %}
<div class="deposit-topup-layout shortcut-form-container">
    <section class="deposit-topup-card">
        <form method="post" class="deposit-topup-form">
            <input type="hidden" name="from_entity_id" value="{{ g.actor_entity.id }}">

            <div class="form-group">
                <label class="form-label" for="from_treasury_id">From Treasury</label>
                <select id="from_treasury_id" name="from_treasury_id" class="form-input">
                    <option value=""></option>
                    {% for treasury in treasuries %}
                    <option value="{{ treasury.id }}" class="{% if not treasury.active %}secondary inactive{% endif %}">
                        {{ treasury.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label class="form-label" for="to_entity_id">To</label>
                <select id="to_entity_id" name="to_entity_id" class="form-input" required>
                    <option value=""></option>
                    {% for entity in withdrawal_entities %}
                    <option value="{{ entity.id }}" class="{% if not entity.active %}secondary inactive{% endif %}">{{
                        entity.name }} (id: {{ entity.id }})</option>
                    {% endfor %}
                </select>
            </div>

            <div class="deposit-row">
                <div class="deposit-field deposit-field-amount">
                    <label class="form-label" for="amount">Amount</label>
                    <input id="amount" name="amount" class="form-input" type="number" step="0.01"
                        placeholder="10.00" required>
                </div>

                <div class="deposit-field deposit-field-currency">
                    <label class="form-label" for="currency">Currency</label>
                    <select id="currency" name="currency" class="form-input" required>
                        <option value="GEL" selected>GEL</option>
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label" for="comment">Comment</label>
                <input id="comment" name="comment" class="form-input" type="text" placeholder="optional">
            </div>

            <div class="deposit-topup-actions">
                <button type="submit" class="big-button">Withdraw</button>
            </div>
        </form>
    </section>
</div>

{% if withdrawal_entities|length == 0 %}
<p>No withdrawal-tagged entities available.</p>
{% endif %}

<h2>What is a withdrawal?</h2>
<p>A withdrawal is a transaction that represents money going out of your account to an external destination. It
    could be a bank transfer, cash or crypto.</p>
<img src="{{ url_for('static', filename='/images/transaction/shortcuts/withdraw.jpg') }}" alt="Withdrawal Diagram"
    style="max-width: 50rem">
{% endblock %}