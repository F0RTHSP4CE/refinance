{% extends 'base.jinja2' %}

{% block title %}Deposit Money{% endblock %}

{% block content %}
<form method="post">
    <table>
        <tr>
            <td><b>From</b></td>
            <td>
                <select name="from_entity_id" required>
                    <option value=""></option>
                    {% for entity in deposit_entities %}
                    <option value="{{ entity.id }}" class="{% if not entity.active %}secondary inactive{% endif %}">{{
                        entity.name }} (id: {{ entity.id }})</option>
                    {% endfor %}
                </select>
            </td>
        </tr>
        <tr>
            <td><b>To</b></td>
            <td><span class="{% if not g.actor_entity.active %}secondary inactive{% endif %}">{{ g.actor_entity.name }}
                    (id: {{ g.actor_entity.id }})</span></td>
        </tr>
        <input type="hidden" name="to_entity_id" value="{{ g.actor_entity.id }}">
        <tr>
            <td><b>To Treasury</b></td>
            <td>
                <select name="to_treasury_id">
                    <option value=""></option>
                    {% for treasury in treasuries %}
                    <option value="{{ treasury.id }}" class="{% if not treasury.active %}secondary inactive{% endif %}">
                        {{ treasury.name }}</option>
                    {% endfor %}
                </select>
            </td>
        </tr>
        <tr>
            <td>Amount</td>
            <td><input name="amount" type="number" step="0.01" placeholder="10.00" required></td>
        </tr>
        <tr>
            <td>Currency</td>
            <td>
                <select name="currency" required>
                    <option value="GEL" selected>GEL</option>
                    <option value="USD">USD</option>
                    <option value="EUR">EUR</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>Comment</td>
            <td><input name="comment" type="text" placeholder="optional"></td>
        </tr>
        <tr>
            <td></td>
            <td><button type="submit">Pre-create a deposit</button></td>
        </tr>
    </table>
</form>
<p><strong>Note:</strong> This action MUST be confirmed by a financier.<br>You can create a draft with this form to
    speed
    up the process.</p>

{% if deposit_entities|length == 0 %}
<p>No deposit-tagged entities available.</p>
{% endif %}

<h2>What is a deposit?</h2>
<p>A deposit is a transaction that represents money coming into your account from an external source. It
    could be a bank transfer, cash or crypto.</p>
<p>When you create a deposit, you specify the source of the funds and the Treasury these funds are put into.</p>
<img src="{{ url_for('static', filename='/images/transaction/shortcuts/deposit.jpg') }}" alt="Deposit Diagram"
    style="max-width: 50rem">
{% endblock %}