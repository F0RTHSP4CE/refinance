{% extends 'base.jinja2' %}
{% from 'widgets/entity_selector.jinja2' import entity_selector %}
{% from 'form.jinja2' import render_form %}

{% block title %}New Transaction{% endblock %}

{% block content %}
<form method="post">
    <table>
        <tr>
            <td>From Entity</td>
            <td>
                {{ entity_selector('from_entity', g.actor_entity.name,
                g.actor_entity.id) }}
            </td>
        </tr>
        <tr>
            <td>To Entity</td>
            <td>
                {{ entity_selector('to_entity') }}
            </td>
        </tr>
        {{ render_form(form, except=('from_entity_name', 'to_entity_name', 'from_entity_id', 'to_entity_id'),
        new_table=False) }}
    </table>
</form>

<script src="/static/js/entitySelector.js"></script>
{% endblock %}