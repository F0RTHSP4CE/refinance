{% macro pagination_control(page, total, limit, id) %}
{# Calculate total pages #}
{% set total_pages = ((total - 1) // limit) + 1 %}
<div class="pagination">
    {# Previous button #}
    {% if page > 1 %}
    {% set prev_page = page - 1 %}
    {% set prev_skip = (prev_page - 1) * limit %}
    <a href="{{ request.path }}{{ update_query_params(page=prev_page, limit=limit, skip=prev_skip) }}" class="pagination-btn">← Previous</a>
    {% else %}
    <span class="pagination-btn disabled">← Previous</span>
    {% endif %}
    
    <span class="pagination-info">Page {{ page }} of {{ total_pages }}</span>
    
    {# Next button #}
    {% if page < total_pages %}
    {% set next_page = page + 1 %}
    {% set next_skip = (next_page - 1) * limit %}
    <a href="{{ request.path }}{{ update_query_params(page=next_page, limit=limit, skip=next_skip) }}" class="pagination-btn">Next →</a>
    {% else %}
    <span class="pagination-btn disabled">Next →</span>
    {% endif %}
</div>
{% endmacro %}